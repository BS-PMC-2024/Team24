<!DOCTYPE html>
<html>
  <head>
    <title>ADMIN PAGE</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    {% load static %}
    <link
      rel="stylesheet"
      href="{% static 'w3.css' %}"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Raleway"
    />
    <link
      rel="stylesheet"
      href="{% static 'font-awesome.min.css' %}"
    />
    <style>
      body,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: "Raleway", sans-serif;
      }

      body,
      html {
        height: 100%;
        line-height: 1.8;
      }

      .w3-bar .w3-button {
        padding: 16px;
      }
    </style>
  </head>
  <body>
    <!-- Navbar (sit on top) -->
    <div class="w3-top">
      <div class="w3-bar w3-white w3-card" id="myNavbar">
        <a href="{% url 'adminhome' %}" class="w3-bar-item w3-button w3-wide"
          >ReqGenious</a
        >
        <!-- Right-sided navbar links -->
        <div class="w3-right w3-hide-small">
          <a href="#team" class="w3-bar-item w3-button"
            ><i class="fa fa-user"></i> TEAM</a
          >
          <a href="#work" class="w3-bar-item w3-button"
            ><i class="fa fa-th"></i> EDIT SRS</a
          >
          <a href="{% url 'hometest' %}" class="w3-bar-item w3-button">
            <i class="fa fa-user"></i> LOGOUT
          </a>
        </div>
        <!-- Hide right-floated links on small screens and replace them with a menu icon -->
        <a
          href="javascript:void(0)"
          class="w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium"
          onclick="w3_open()"
        >
          <i class="fa fa-bars"></i>
        </a>
      </div>
    </div>

    <!-- Sidebar on small screens when clicking the menu icon -->
    <nav
      class="w3-sidebar w3-bar-block w3-black w3-card w3-animate-left w3-hide-medium w3-hide-large"
      style="display: none"
      id="mySidebar"
    >
      <a
        href="javascript:void(0)"
        onclick="w3_close()"
        class="w3-bar-item w3-button w3-large w3-padding-16"
        >Close Ã—</a
      >
      <a href="#team" onclick="w3_close()" class="w3-bar-item w3-button"
        >TEAM</a
      >
      <a href="#work" onclick="w3_close()" class="w3-bar-item w3-button"
        >WORK</a
      >
      <a href="#contact" onclick="w3_close()" class="w3-bar-item w3-button"
        >CONTACT</a
      >
    </nav>

    <!-- Users List -->
    <form method="POST" action="{% url 'adminhome' %}" class="w3-margin-bottom">
      {% csrf_token %}
    <div class="w3-container w3-padding-64 w3-center">
      <h2>User List</h2>
      <p>Total users: {{ user_count }}</p>
      {% if users %}
      <div class="w3-row w3-center">
        {% for user in users %}
        <div class="w3-quarter w3-card w3-margin">
          <i
            class="fa fa-user w3-margin-bottom w3-text-theme"
            style="font-size: 120px"
          ></i>
          <h3>{{ user.username }}</h3>
          <p>{{ user.email }}</p>
          <p>Student: {% if user.is_student %}Yes{% else %}No{% endif %}</p>
        </div>
        {% empty %}
        <p>No users found.</p>
        {% endfor %}
      </div>
      {% else %}
      <p>No users available.</p>
      {% endif %}
    </div>
    </form>
    <script>
      // Script to open and close sidebar
      function w3_open() {
        document.getElementById("mySidebar").style.display = "block";
      }

      function w3_close() {
        document.getElementById("mySidebar").style.display = "none";
      }
    </script>
  </body>
</html>
